define(["websocket/wrapper"],function(a){"use strict";var b={port:9876,httpHost:"localhost",ssl:!1};return{apps:{},clients:{},config:{},url:null,init:function(a,b){this.config=a,this.apps=b},getConfig:function(a){return this.config[a]||b[a]},getUrl:function(a){if(null===this.url){var b=this.getConfig("httpHost"),c=this.getConfig("port"),d=this.getConfig("ssl");this.url=[d?"wss://":"ws://",b,":",c].join("")}return this.url+this.apps[a].route},getClient:function(a,b){return this.clients[a]||(this.clients[a]=this.createClient(a,b),this.clients[a].connect()),this.clients[a]},createClient:function(b,c){return new a(this.apps[b],this.getUrl(b),c)}}});